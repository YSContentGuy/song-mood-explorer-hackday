<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mood Explorer — Static Story</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background:#f6f7fb; margin:0; padding:24px; }
    .wrap { max-width: 1100px; margin: 0 auto; }
    h1 { margin:0 0 8px; }
    .sub { color:#666; margin-bottom: 16px; }
    .grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }
    .card { background:#fff; border:1px solid #eee; border-radius:12px; padding:14px; box-shadow:0 6px 18px rgba(0,0,0,0.04); }
    .name { font-weight:700; margin-bottom:4px; }
    .blurb { color:#444; font-size:14px; min-height: 44px; }
    .muted { color:#777; font-size:12px; }
    .song { margin-top:10px; border-left:4px solid #667eea; padding-left:10px; }
    .why { margin-top:6px; font-size:12px; color:#444; }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }
  </style>
  <script>window.__USERS_OVERVIEW__ = {"users":[{"id":"user_beginner","name":"Sarah (Beginner)","blurb":"Beginner · Likes pop, acoustic, folk · no direct matches","derivedMood":"neutral","context":{"mood":"neutral","timeOfDay":"afternoon","availableTime":20,"goals":"relax","exploreNewMoods":true},"suggestion":{"SONG_ID":"621f8de250cb7457161faec1","SONG_TITLE":"Cleaning Windows","ARTIST_NAME":"Van Morrison","MAX(EXERCISE_LENGTH)":"263.73624","CUMULATIVE_PLAY_TIME":5,"PLAY_COUNT":1,"GENRES":"","TAGS":"","AVAILABLE_ARRAGEMENTS":[],"HIGHEST_PITCH":"67","LOWEST_PITCH":"40","SONG_KEY_ROOT":"C","SONG_KEY_MODE":"major","BEATS_PER_MINUTE":91.00000819,"QUARTER_NOTES_PER_MINUTE":91.00000819,"genre_tags":[],"style_tags":[],"energy_level":"medium","difficulty_level":4,"instrument_fit":"guitar","contextualScore":0.54,"scoringBreakdown":{"comfortZone":0.65,"moodAlignment":0.5,"timeAlignment":1,"durationFit":0.5,"goalAlignment":0.1,"exploration":0.2,"weights":{"comfortZone":0.2,"mood":0.25,"time":0.15,"duration":0.2,"goal":0.05,"exploration":0.15000000000000002}}},"user":{"skillLevel":2,"genrePreferences":["pop","acoustic","folk"]}},{"id":"user_intermediate","name":"Mike (Intermediate)","blurb":"Intermediate · Likes rock, alternative, indie · no direct matches","derivedMood":"neutral","context":{"mood":"neutral","timeOfDay":"afternoon","availableTime":20,"goals":"relax","exploreNewMoods":true},"suggestion":{"SONG_ID":"621f8de250cb7457161faec1","SONG_TITLE":"Cleaning Windows","ARTIST_NAME":"Van Morrison","MAX(EXERCISE_LENGTH)":"263.73624","CUMULATIVE_PLAY_TIME":5,"PLAY_COUNT":1,"GENRES":"","TAGS":"","AVAILABLE_ARRAGEMENTS":[],"HIGHEST_PITCH":"67","LOWEST_PITCH":"40","SONG_KEY_ROOT":"C","SONG_KEY_MODE":"major","BEATS_PER_MINUTE":91.00000819,"QUARTER_NOTES_PER_MINUTE":91.00000819,"genre_tags":[],"style_tags":[],"energy_level":"medium","difficulty_level":4,"instrument_fit":"guitar","contextualScore":0.58,"scoringBreakdown":{"comfortZone":0.8,"moodAlignment":0.5,"timeAlignment":1,"durationFit":0.5,"goalAlignment":0.33,"exploration":0.2,"weights":{"comfortZone":0.2,"mood":0.25,"time":0.15,"duration":0.2,"goal":0.05,"exploration":0.15000000000000002}}},"user":{"skillLevel":5,"genrePreferences":["rock","alternative","indie"]}},{"id":"user_advanced","name":"Alex (Advanced)","blurb":"Advanced · Likes metal, progressive, jazz · no direct matches","derivedMood":"neutral","context":{"mood":"neutral","timeOfDay":"afternoon","availableTime":20,"goals":"relax","exploreNewMoods":true},"suggestion":{"SONG_ID":"6124e70480fcbc3a47dbb531","SONG_TITLE":"Here Comes The Sun","ARTIST_NAME":"The Beatles","MAX(EXERCISE_LENGTH)":"395.5","CUMULATIVE_PLAY_TIME":10330317,"PLAY_COUNT":94087,"GENRES":"[\n  rock\n]","TAGS":"[\n  top100guitar,\n  mehuguitar,\n  mehupiano\n]","AVAILABLE_ARRAGEMENTS":[],"HIGHEST_PITCH":"79","LOWEST_PITCH":"28","SONG_KEY_ROOT":"A","SONG_KEY_MODE":"major","BEATS_PER_MINUTE":130.151843818,"QUARTER_NOTES_PER_MINUTE":130.151843818,"genre_tags":["[\n  rock\n]"],"style_tags":["[\n  top100guitar","mehuguitar","mehupiano\n]","energetic"],"energy_level":"high","difficulty_level":7,"instrument_fit":"guitar","contextualScore":0.58,"scoringBreakdown":{"comfortZone":0.8,"moodAlignment":0,"timeAlignment":1,"durationFit":0.5,"goalAlignment":0.33,"exploration":1,"weights":{"comfortZone":0.2,"mood":0.25,"time":0.15,"duration":0.2,"goal":0.05,"exploration":0.15000000000000002}}},"user":{"skillLevel":8,"genrePreferences":["metal","progressive","jazz"]}}]};</script>
</head>
<body>
  <div class="wrap">
    <h1>Right‑Now Picks for Three Players</h1>
    <div class="sub">Static export — open this file without a server.</div>
    <div id="grid" class="grid"></div>
  </div>
  <script>
    function whyLine(item){
      const s = item.suggestion || {};
      const b = s.scoringBreakdown || {};
      const parts = [];
      if (item.context) parts.push(item.context.timeOfDay + ", " + item.context.goals);
      if (typeof s.duration === 'number' && item.context && item.context.availableTime) {
        const mins = Math.round(s.duration/60);
        parts.push(mins + " min fits ~" + item.context.availableTime + " min");
      }
      if (s.energy_level) parts.push(s.energy_level + " energy");
      if (typeof s.difficulty_level === 'number' && item.user && item.user.skillLevel) {
        const diff = s.difficulty_level - item.user.skillLevel;
        const rel = diff === 0 ? 'at your level' : (diff > 0 ? ('+'+diff+' harder') : (Math.abs(diff) + ' easier'));
        parts.push(rel);
      }
      if (typeof b.moodAlignment === 'number') {
        parts.push('mood match ' + Math.round(b.moodAlignment*100) + '%');
      }
      return parts.join(' · ');
    }
    (function init(){
      const data = window.__USERS_OVERVIEW__ || { users: [] };
      const grid = document.getElementById('grid');
      grid.innerHTML = '';
      data.users.forEach(u => {
        const c = document.createElement('div');
        c.className = 'card';
        const s = u.suggestion;
        c.innerHTML = "<div class='name'>"+u.name+"</div>"+
          "<div class='blurb'>"+u.blurb+"</div>"+
          "<div class='muted'>Mood: "+u.derivedMood+" · Time: "+u.context.timeOfDay+" · Goal: "+u.context.goals+"</div>"+
          "<div class='song'>"+
          (s ? ("<div><strong>"+(s.title || s.SONG_TITLE)+"</strong> — "+(s.artist || s.ARTIST_NAME || 'Unknown')+"</div>"+
          "<div class='muted'>Score: "+(s.contextualScore ?? 'N/A')+"</div>"+
          "<div class='why'>"+whyLine(u)+"</div>") : '<em>No suggestion</em>')+
          "</div>";
        grid.appendChild(c);
      });
    })();
  </script>
</body>
</html>